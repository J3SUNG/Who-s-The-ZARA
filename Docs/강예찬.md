# 23.07.17

## what i did

- UI Design
  
  - 로비 페이지
    
    - 공통
      
      - Button UIs
      
      - Rabbit Image
      
      - 뒤로가기 버튼
    
    - 방 만들기 탭
      
      - 인원 설정
      
      - 역할 설정
        
        - 역할별 아이콘
        
        - 체크 아이콘 -> 수정 요청
    
    - 방 찾기 탭
      
      - 방 리스트
      
      - 각 방 마다 제목, 인원수
  
  - 대기실 페이지
    
    - 각 인원 아이디 표시
    
    - 채팅 UI
    
    - 뒤로가기 버튼
  
  - 마이페이지
    
    - 회원정보수정 탭
      
      - 닉네임
      
      - 이메일
      
      - 비밀번호 / 비밀번호 확인
    
    - 게임전적조회 탭
      
      - 게임 전적 판 별로 (승 패 나눠서)
    
    - 게임전적통계
      
      - 총 플레이 횟수
      
      - 총 승률
      
      - 역할 별 승률

# 23.07.18

## what i did

- Figma
  
  - Lobby
    
    - 방 만들기
    
    - 방 찾기
    
    - 대기실
  
  - MyPage
    
    - 회원정보수정
    
    - 게임전적조회
    
    - 게임전적통계
  
  - InGame
    
    - Opening GIF Animation
    
    - Background
    
    - Camera UIs
    
    - rabbits
    
    - Icons

# 23.07.19

## what i did

- Figma
  
  - 본 게임 화면 디자인 개선 (진행중)
    
    - 버튼 디자인 변경
    
    - 버튼 마우스 호버링 효과 (진행중)
  
  - 마이페이지
    
    - 게임전적조회 구성요소 및 디자인 변경
  
  - 본 게임 화면
    
    - 인게임 내 낮(토론, 투표), 밤, 결과화면 디자인
      
      - 캐릭터 위 이름 표시
      
      - 투표화면
        
        - 투표 숫자 표시 UI
        
        - 투표 건너뛰기 버튼
      
      - 밤 화면
        
        - 능력 사용 아이콘 (추가중)
        
        - 능력 사용 마우스 호버링 효과
      
      - 결과화면
        
        - 디자인 구성

# 23.07.20

## what i did

- 홈 화면
  
  - 비 로그인 상태 초기 페이지 수정
  
  - 로그인 상태 초기 페이지 수정
  
  - 접근 제한 페이지 디자인

- 마이페이지
  
  - 초기화면 수정
    
    - 닉네임, 이메일 표시
  
  - 회원정보수정 페이지
    
    - 회원탈퇴 추가
    
    - 버튼 UI 변경

- 로비
  
  - 대기실 페이지 디자인
  
  - 역할 아이콘 새로 작성

- 본 게임
  
  - 결과 화면 버튼 추가
  
  - 역할 알림창
  
  - 투표 건너뛰기 버튼 수정

# 23.07.21

## what i did

- Figma
  
  - 홈 화면 UI 수정
  
  - 회원정보 수정 UI 추가
  
  - 대기실 페이지 완성
  
  - 본 게임 페이지 완성

- 기능 명세서 정리 및 수정

# 23.07.25

## what i did

- Figma
  
  - 메인 페이지 
    
    - UI 수정
  
  - 인게임 페이지
    
    - 배경 수정
    
    - UI 수정

- Openvidu
  
  - Tutorial 공부    
    
    - Node.js, Docker를 이용한 서버 실행
    
    - React를 이용한 클라이언트 실행
    
    - 클라이언트 간 실시간 영상 채팅 튜토리얼 구현

# 23.07.26

## what i did

- Openvidu
  
  - library-react 튜토리얼 실행
  
  - react 튜토리얼에서 js를 ts로 변환
  
  - ts로 변환 후 프로젝트 이식
    
    - 프로젝트 내 test 페이지에서 openvidu를 이용한 실시간 영상 재생

## what should i do

- Figma
  
  - 토끼 사망 애니메이션
  
  - 능력 사용할 사람 선택 마우스 호버
  
  - 능력 사용 결과 알림창 멘트
  
  - 역할 아이콘 색깔 추가

- Openvidu
  
  - 여러 명 동시 실시간 채팅 프로젝트 내 구현

# 23.07.27

## what i learned

- Typesciript
  
  - bind
    
    - [[JavaScript-07]this - this바인드편(bind,call,apply) :: Kamang's IT Blog](https://kamang-it.tistory.com/entry/JavaScript07this-this%EB%B0%94%EC%9D%B8%EB%93%9C%ED%8E%B8bindcallapply)

```typescript
// OpenVidu 객체를 생성
this.OV = new OpenVidu();
// 세션 초기
this.OV.initSession();
// 
```

## what i did

- UI Design
  
  - Background gif animation 수정
  
  - Backgounrd image 수정
  
  - Icon Color 변경
  
  - rabbit 캐릭터 gif animation 적용

- OpenVidu
  
  - 프로젝트에 비디오 컴포넌트 작성
  
  - 다중 사용자 비디오 컴포넌트 적용

## issue & solution

### issue

- 참가자를 담는 subscribers array에 publisher를 제외한 subscriber가 두 명씩 참가됨
  
  ```typescript
  const subscriber = mySession.subscribe(event.stream, undefined);
  const subscribers = this.state.subscribers;
  subscribers.push(subscriber);
  ```

- 개발자 도구에서 subscribers의 값을 로그로 출력하여 확인해 본 결과, subscriber.stream.connetion에서 UserName이 두 번 씩 확인됨

### solution

- 기존에는 App class의 render() 메서드에서 this.state.session === undefined 이면 this.joinSession()을 실행하도록 하였는데 이 때 render()함수가 짧은 간격으로 실행되면서 this.joinSession() 함수가 두 번 이상 실행된 것으로 보여짐

- 따라서 button 을 따로 만들어 this.state.session === undefined일 때만 보이도록 하고, button을 눌렀을 때 this.joinSession()함수를 실행하도록 함

- button을 한 번 눌렀을 때만 실행되어 문제가 해결됨

- 페이지가 로드될 때(페이지에 진입 할 때)만 한 번 this.joinSession을 실행할 수 있게 하는 방법을 찾아서 사용할 수 있도록 개선할 필요가 있음

## what should i do

- rabbit die animation 색깔 별로 제작

# 23.07.28

## what i did

- Figma
  
  - Ingame UI 변경
  
  - Ingame Icon 추가

- OpenVidu
  
  - 프로젝트에 Video Component 추가
    
    - .../pages/Game.tsx 의 함수형 컴포넌트를 클래스 컴포넌트로 변경
    
    - 기존 OpenVidu Tutorial의 클래스 컴포넌트와 병합
    
    - 프로젝트에 맞게 Video 컴포넌트 작성 및 추가
